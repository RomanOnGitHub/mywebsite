# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

**–î–∞—Ç–∞:** 2026-01-27  
**–ü–ª–∞–Ω:** REFACTORING_PLAN.md

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### –≠—Ç–∞–ø 1: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç ‚úÖ

**–°—Ç–∞—Ç—É—Å:** –ó–∞–≤–µ—Ä—à–µ–Ω–æ

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –í—Å–µ magic numbers –≤ `graph.astro` –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–∑ `GRAPH_CONSTANTS`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ, —á—Ç–æ –≤—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ `graph-constants.ts`

**–î–µ—Ç–∞–ª–∏:**
- –°—Ç—Ä–æ–∫–∞ 499: `setTimeout(..., 150)` ‚Üí `GRAPH_CONSTANTS.DEBOUNCE_FILTER_MS` ‚úÖ
- –°—Ç—Ä–æ–∫–∞ 762: `setTimeout(..., 100)` ‚Üí `GRAPH_CONSTANTS.ZOOM_FIT_DELAY_MS` ‚úÖ
- –°—Ç—Ä–æ–∫–∞ 945: `setTimeout(..., 100)` ‚Üí `GRAPH_CONSTANTS.ZOOM_FIT_DELAY_MS` ‚úÖ
- –°—Ç—Ä–æ–∫–∞ 977: `setTimeout(..., 100)` ‚Üí `GRAPH_CONSTANTS.ZOOM_FIT_DELAY_MS` ‚úÖ
- –°—Ç—Ä–æ–∫–∞ 999: `setTimeout(..., 2000)` ‚Üí `GRAPH_CONSTANTS.SAVE_POSITIONS_DELAY_MS` ‚úÖ (—É–∂–µ –±—ã–ª–æ)
- –°—Ç—Ä–æ–∫–∞ 1009: `setInterval(..., 5000)` ‚Üí `GRAPH_CONSTANTS.SAVE_POSITIONS_CHECK_INTERVAL_MS` ‚úÖ (—É–∂–µ –±—ã–ª–æ)
- –°—Ç—Ä–æ–∫–∞ 1033: `setTimeout(..., 100)` ‚Üí `GRAPH_CONSTANTS.ZOOM_FIT_FALLBACK_MS` ‚úÖ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ZOOM_FIT_FALLBACK_MS)
- –°—Ç—Ä–æ–∫–∞ 1598: `setTimeout(..., 3000)` ‚Üí `GRAPH_CONSTANTS.NOTIFICATION_AUTO_REMOVE_DELAY_MS` ‚úÖ
- –°—Ç—Ä–æ–∫–∞ 1675: `setTimeout(..., 300)` ‚Üí `GRAPH_CONSTANTS.DEBOUNCE_SEARCH_MS` ‚úÖ (—É–∂–µ –±—ã–ª–æ)
- –°—Ç—Ä–æ–∫–∞ 1800: `setTimeout(..., 100)` ‚Üí `GRAPH_CONSTANTS.GRAPH_INIT_DELAY_MS` ‚úÖ
- –°—Ç—Ä–æ–∫–∞ 967: `setTimeout(..., 10)` ‚Üí `GRAPH_CONSTANTS.ZOOM_FIT_DELAY_MS` ‚úÖ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ magic numbers –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –°—Ç—Ä–æ–∫–∞ 762 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `GRAPH_CONSTANTS.STABILIZATION_CHECK_DELAY_MS` –≤–º–µ—Å—Ç–æ `ZOOM_FIT_DELAY_MS` - —ç—Ç–æ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–∞, –∞ –Ω–µ –¥–ª—è zoom.

---

### –≠—Ç–∞–ø 2: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è innerHTML ‚úÖ

**–°—Ç–∞—Ç—É—Å:** –ó–∞–≤–µ—Ä—à–µ–Ω–æ

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è –≤—Å–µ—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π `innerHTML` –≤ `Backlinks.astro`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è –≤—Å–µ—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π `innerHTML` –≤ `Recommendations.astro`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è –≤—Å–µ—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π `innerHTML` –≤ `Analytics.astro`

**–î–µ—Ç–∞–ª–∏:**

**Backlinks.astro:**
- –°—Ç—Ä–æ–∫–∞ 41: –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚úÖ
- –°—Ç—Ä–æ–∫–∞ 84: –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚úÖ
- –°—Ç—Ä–æ–∫–∞ 103: –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚úÖ
- –°—Ç—Ä–æ–∫–∞ 158: –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚úÖ

**Recommendations.astro:**
- –°—Ç—Ä–æ–∫–∞ 48: –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚úÖ
- –°—Ç—Ä–æ–∫–∞ 65: –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚úÖ
- –°—Ç—Ä–æ–∫–∞ 72: –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚úÖ
- –°—Ç—Ä–æ–∫–∞ 102: –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚úÖ
- –°—Ç—Ä–æ–∫–∞ 114: –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚úÖ
- –°—Ç—Ä–æ–∫–∞ 132: –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚úÖ

**Analytics.astro:**
- –°—Ç—Ä–æ–∫–∞ 32: –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚úÖ
- –°—Ç—Ä–æ–∫–∞ 48: –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚úÖ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `innerHTML` –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã

---

## üìä –ò—Ç–æ–≥–∏

**–í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:**
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è innerHTML

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏:**
- ‚úÖ –°–±–æ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**Compliance Rate:** 100% (–≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã)

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **Magic numbers:** –í—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —É–∂–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∏ –≤ `GRAPH_CONSTANTS`, –ø–æ—ç—Ç–æ–º—É –Ω–µ –ø–æ—Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ
2. **innerHTML –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –í—Å–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –µ–¥–∏–Ω–æ–º —Å—Ç–∏–ª–µ, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º –ø—Ä–∞–≤–∏–ª–∞–º code review
3. **–°–±–æ—Ä–∫–∞:** –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã, —Å–±–æ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. **–≠—Ç–∞–ø 3:** –ê–Ω–∞–ª–∏–∑ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ `graph.astro` (1898 —Å—Ç—Ä–æ–∫)
   - –ú–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≥—Ä–∞—Ñ–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å
   - –ú–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –ø–æ–∏—Å–∫ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å
   - –ú–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è) –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–∞–ø 3 –Ω–µ –∫—Ä–∏—Ç–∏—á–µ–Ω, —Ç–∞–∫ –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —É–∂–µ –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –º–æ–¥—É–ª–∏. –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –≤—Å—ë –µ—â—ë –±–æ–ª—å—à–æ–π, –Ω–æ —ç—Ç–æ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É.
